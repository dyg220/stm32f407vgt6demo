#include "iwdg.h"

/**************************************************************
*函数功能：独立看门狗配置
*参    数：None
*返 回 值：None
*备    注：
**************************************************************/
void IWDG_Init(void)
{
	IWDG->KR = 0x5555;//取消写保护

	IWDG->PR = 0x3;//32KHz  32分频    计一个数时间：1ms
	IWDG->RLR = 4000 - 1;//重载值  最大：4095
	IWDG->KR = 0xAAAA;//将重载值和分频值重装进去
	IWDG->KR = 0xCCCC;//启动看门狗
}

void Feed_Dog(void)
{
	IWDG->KR = 0xAAAA;//喂狗操作
	printf("已喂狗\r\n");
}

